<app-sidebar></app-sidebar>
<div class="main-panel">
  <app-topbar></app-topbar>
  <div class="container" *ngIf="dataAvailable">
    <div class="row">
      <div class="col-md-3 col-xs-0"></div>
      <div class="col-md-6 co-sm-12">
        <h2 style="text-align:center">Details</h2>
        <form [formGroup]='updateForm' (ngSubmit)='update(updateForm.value,userDetails.id)'>
          <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" formControlName="name" class="form-control" id="name">
            <div class="form-feedback" *ngIf="updateForm.get('name').hasError('required') && updateForm.get('name').touched">
              <p class="alert alert-danger">Name is Required</p>
            </div>
          </div>
          <div class="form-group">
            <label for="email">Email address:</label>
            <input type="email" formControlName="email" class="form-control" id="email">
            <div class="form-feedback" *ngIf="updateForm.get('email').dirty || updateForm.get('email').touched">
              <p class="alert alert-danger" *ngIf="updateForm.get('email').hasError('required')">Email is Required</p>
              <p class="alert alert-danger" *ngIf="updateForm.get('email').hasError('email')">Please Enter Correct Email</p>
            </div>
          </div>
          <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" formControlName="password" class="form-control" id="password">
            <div class="form-feedback" *ngIf="updateForm.get('password').dirty || updateForm.get('password').touched">
              <p class="alert alert-danger" *ngIf="updateForm.get('password').hasError('required')">Password is Required</p>
              <p class="alert alert-danger" *ngIf="updateForm.get('password').hasError('pattern')">Password must contain at least one number and special character.</p>
            </div>
          </div>
          <div class="form-group">
            <label for="phone">Phone Number:</label>
            <input type="text" formControlName="phone" class="form-control" id="phone">
            <div class="form-feedback" *ngIf="updateForm.get('phone').dirty || updateForm.get('phone').touched">
              <p class="alert alert-danger" *ngIf="updateForm.get('phone').hasError('required')">Phone Number is Required</p>
              <p class="alert alert-danger" *ngIf="updateForm.get('phone').hasError('pattern')">Enter Correct Phone Number</p>
            </div>
          </div>
          <div class="form-group">
            <label for="street">Street address:</label>
            <input type="text" formControlName="street" class="form-control" id="street">
            <div class="form-feedback" *ngIf="updateForm.get('street').hasError('required') && updateForm.get('street').touched">
              <p class="alert alert-danger">Street is Required</p>
            </div>
          </div>
          <div class="form-group">
            <label for="city">City:</label>
            <input type="text" formControlName="city" class="form-control" id="city">
            <div class="form-feedback" *ngIf="updateForm.get('city').hasError('required') && updateForm.get('city').touched">
              <p class="alert alert-danger">City is Required</p>
            </div>
          </div>
          <div class="form-group">
            <label for="state">State:</label>
            <input type="text" formControlName="state" class="form-control" id="state">
            <div class="form-feedback" *ngIf="updateForm.get('state').hasError('required') && updateForm.get('state').touched">
              <p class="alert alert-danger">State is Required</p>
            </div>
          </div>
          <div class="form-group">
            <label for="country">Country:</label>
            <input type="country" formControlName="country" class="form-control" id="country">
            <div class="form-feedback" *ngIf="updateForm.get('country').hasError('required') && updateForm.get('country').touched">
              <p class="alert alert-danger">Country is Required</p>
            </div>
          </div>
          <div class="form-group">
            <label for="pincode">Pincode:</label>
            <input type="text" formControlName="pincode" class="form-control" id="pincode">
            <div class="form-feedback" *ngIf="updateForm.get('pincode').hasError('required') && updateForm.get('pincode').touched">
              <p class="alert alert-danger">Pincode is Required</p>
            </div>
          </div>
          <div class="form-group">
            <label for="role">Role:</label>
            <input type="text" formControlName="role" class="form-control" id="role">
            <div class="form-feedback" *ngIf="updateForm.get('role').hasError('required') && updateForm.get('role').touched">
              <p class="alert alert-danger">Role is Required</p>
            </div>
          </div>
          <button type="submit" [disabled]="updateForm.pristine" class="btn btn-primary">Update</button>
          <i class="fa fa-spinner fa-pulse fa-2x" *ngIf="show"></i>
          <span class="sr-only">Loading...</span>
          <i class="fa fa-check fa-2x fa-fw" *ngIf="uploaded"></i>
        </form>
          <a routerLink="/user" class="user-list">Back to Users</a>
      </div>
      <div class="col-md-3 col-xs-0"></div>
    </div>
  </div>
</div>